.. index:: pair: class; Sophus::SO3
.. _doxid-class_sophus_1_1_s_o3:

template class Sophus::SO3
==========================

.. toctree::
	:hidden:

Overview
~~~~~~~~

:ref:`SO3 <doxid-class_sophus_1_1_s_o3>` using default storage; derived from :ref:`SO3Base <doxid-class_sophus_1_1_s_o3_base>`. :ref:`More...<details-class_sophus_1_1_s_o3>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <so3.hpp>
	
	template <class Scalar_, int Options>
	class SO3: public :ref:`Sophus::SO3Base<doxid-class_sophus_1_1_s_o3_base>` {
	public:
		// typedefs
	
		using :target:`Base<doxid-class_sophus_1_1_s_o3_1ae3ada5edb0dba1d4f28b52bf695781c9>` = :ref:`SO3Base<doxid-class_sophus_1_1_s_o3_base>`<SO3<Scalar_, :ref:`Options<doxid-class_sophus_1_1_s_o3_base_1a800885cc57e21fae906d804fb4cdcdee>`>> ;
		using :target:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>` = Scalar_ ;
		using :target:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` = typename :ref:`Base::Transformation<doxid-class_sophus_1_1_s_o3_base_1a8d2fd775bd72adae8d49260472bb61f9>` ;
		using :target:`Point<doxid-class_sophus_1_1_s_o3_1a3bc704aeeb6f4d2e22bd878b8fb5c34b>` = typename :ref:`Base::Point<doxid-class_sophus_1_1_s_o3_base_1a98f1d0d99ec5ac35ec62c95b6597b5d2>` ;
		using :target:`HomogeneousPoint<doxid-class_sophus_1_1_s_o3_1acd5d7218a134c75381354c6af424e511>` = typename :ref:`Base::HomogeneousPoint<doxid-class_sophus_1_1_s_o3_base_1aa50c4e8c42f22b5ceb63db7ca4622cf3>` ;
		using :target:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` = typename :ref:`Base::Tangent<doxid-class_sophus_1_1_s_o3_base_1ab16109010b18d52c553fe0909f1a7530>` ;
		using :target:`Adjoint<doxid-class_sophus_1_1_s_o3_1acae8d2b01a071478d49a7b5a94b38bee>` = typename :ref:`Base::Adjoint<doxid-class_sophus_1_1_s_o3_base_1a07e4ff988dceea1f643244552269c834>` ;
		using :target:`QuaternionMember<doxid-class_sophus_1_1_s_o3_1a4ca600560e9a564a28e99b59c1a5f4c5>` = Eigen::Quaternion<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`, :ref:`Options<doxid-class_sophus_1_1_s_o3_base_1a800885cc57e21fae906d804fb4cdcdee>`> ;

		// fields
	
		static int constexpr :target:`DoF<doxid-class_sophus_1_1_s_o3_1ae4816f6067b77fa20f77a0cc7174549d>` = Base::DoF;
		static int constexpr :target:`num_parameters<doxid-class_sophus_1_1_s_o3_1a25a848b137685968bf27456d914d75ca>` = Base::num_parameters;

		// construction
	
		:ref:`SO3<doxid-class_sophus_1_1_s_o3_1a3333fb9fde9880b7e7f2aefa31de5c21>`();
		:ref:`SO3<doxid-class_sophus_1_1_s_o3_1a68a5ff94a43ad01008a500f8fc5478eb>`(SO3 const& other);
	
		template <class OtherDerived>
		:ref:`SO3<doxid-class_sophus_1_1_s_o3_1aaf1f0441bc51a63d4b114495bcf208fb>`(:ref:`SO3Base<doxid-class_sophus_1_1_s_o3_base>`<OtherDerived> const& other);
	
		:ref:`SO3<doxid-class_sophus_1_1_s_o3_1a66e5e0c111ad025d0b98988742f32f0e>`(:ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` const& R);
	
		template <class D>
		:ref:`SO3<doxid-class_sophus_1_1_s_o3_1a184fdc64022ce5de83327a4ec0832c46>`(Eigen::QuaternionBase<D> const& quat);

		// methods
	
		:ref:`QuaternionMember<doxid-class_sophus_1_1_s_o3_1a4ca600560e9a564a28e99b59c1a5f4c5>` const& :ref:`unit_quaternion<doxid-class_sophus_1_1_s_o3_1a4225449a0fa457fb25aeae06644963b5>`() const;
		static :ref:`Sophus::Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o3_1a25a848b137685968bf27456d914d75ca>`, :ref:`DoF<doxid-class_sophus_1_1_s_o3_1ae4816f6067b77fa20f77a0cc7174549d>`> :ref:`Dx_exp_x<doxid-class_sophus_1_1_s_o3_1ab4e71dbf8d91adf2165c546a3a43ef9b>`(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega);
		static :ref:`Sophus::Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o3_1a25a848b137685968bf27456d914d75ca>`, :ref:`DoF<doxid-class_sophus_1_1_s_o3_1ae4816f6067b77fa20f77a0cc7174549d>`> :ref:`Dx_exp_x_at_0<doxid-class_sophus_1_1_s_o3_1a036d9011424424a362d94f54cb20cc27>`();
		static :ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` :ref:`Dxi_exp_x_matrix_at_0<doxid-class_sophus_1_1_s_o3_1aa670edd174ce72deae9b687aa57e0ccd>`(int i);
		static SO3<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`> :ref:`exp<doxid-class_sophus_1_1_s_o3_1aac06ae003e3c72dd0e0004f589d02c1b>`(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega);
		static SO3<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`> :ref:`expAndTheta<doxid-class_sophus_1_1_s_o3_1aa59bed58451b1e07371c3ca684ee7e79>`(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega, :ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`* theta);
	
		template <class S = Scalar>
		static :ref:`enable_if_t<doxid-namespace_sophus_1a4424dd9c3553f3bb3137e735d8c9d406>`<std::is_floating_point<S>::value, SO3> :ref:`fitToSO3<doxid-class_sophus_1_1_s_o3_1a2ee0eba2620fd17a2da18224617edd05>`(:ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` const& R);
	
		static :ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` :ref:`generator<doxid-class_sophus_1_1_s_o3_1a4f0e0e012f3f33faebe39d2393ad080f>`(int i);
		static :ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` :ref:`hat<doxid-class_sophus_1_1_s_o3_1a2b962b17c1c1454ab50d39671740ab87>`(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega);
		static :ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` :ref:`lieBracket<doxid-class_sophus_1_1_s_o3_1af56ac23d4970d3237aa167013a2af647>`(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega1, :ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega2);
		static SO3 :ref:`rotX<doxid-class_sophus_1_1_s_o3_1a211f8838cc0c82d19bddfced1706e0f1>`(:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>` const& x);
		static SO3 :ref:`rotY<doxid-class_sophus_1_1_s_o3_1ad04beb4596ad7a81e731bdc3e2a2c3a0>`(:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>` const& y);
		static SO3 :ref:`rotZ<doxid-class_sophus_1_1_s_o3_1ad5b5d620c98af79b62f568b1a01cd67b>`(:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>` const& z);
	
		template <class UniformRandomBitGenerator>
		static SO3 :ref:`sampleUniform<doxid-class_sophus_1_1_s_o3_1a97fda443508356f8ec39713d4db7b4a7>`(UniformRandomBitGenerator& generator);
	
		static :ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` :ref:`vee<doxid-class_sophus_1_1_s_o3_1acfb67a1baf484491d9f369d70255fec1>`(:ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` const& Omega);

	protected:
		// fields
	
		:ref:`QuaternionMember<doxid-class_sophus_1_1_s_o3_1a4ca600560e9a564a28e99b59c1a5f4c5>` :target:`unit_quaternion_<doxid-class_sophus_1_1_s_o3_1ae73e794c5d7774e24cc3f497dcfc3158>`;

		// methods
	
		:ref:`QuaternionMember<doxid-class_sophus_1_1_s_o3_1a4ca600560e9a564a28e99b59c1a5f4c5>`& :ref:`unit_quaternion_nonconst<doxid-class_sophus_1_1_s_o3_1a65fef58b9803e65b981a51af59f06d9d>`();
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// typedefs
	
		using :ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>` = typename Eigen::internal::traits<Derived>:::ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>` ;
		using :ref:`QuaternionType<doxid-class_sophus_1_1_s_o3_base_1a1e370b275fb63d7c870f2d186a501689>` = typename Eigen::internal::traits<Derived>:::ref:`QuaternionType<doxid-class_sophus_1_1_s_o3_base_1a1e370b275fb63d7c870f2d186a501689>` ;
		using :ref:`QuaternionTemporaryType<doxid-class_sophus_1_1_s_o3_base_1ab704dfb55ecf27a8ee29669581c6f5d7>` = Eigen::Quaternion<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`, :ref:`Options<doxid-class_sophus_1_1_s_o3_base_1a800885cc57e21fae906d804fb4cdcdee>`> ;
		using :ref:`Transformation<doxid-class_sophus_1_1_s_o3_base_1a8d2fd775bd72adae8d49260472bb61f9>` = :ref:`Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`, :ref:`N<doxid-class_sophus_1_1_s_o3_base_1a195924d84fc5381fb482de8a699116bd>`, :ref:`N<doxid-class_sophus_1_1_s_o3_base_1a195924d84fc5381fb482de8a699116bd>`> ;
		using :ref:`Point<doxid-class_sophus_1_1_s_o3_base_1a98f1d0d99ec5ac35ec62c95b6597b5d2>` = :ref:`Vector3<doxid-namespace_sophus_1ade8af1bfa6ef21fdd15e6a3a89929be5>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`> ;
		using :ref:`HomogeneousPoint<doxid-class_sophus_1_1_s_o3_base_1aa50c4e8c42f22b5ceb63db7ca4622cf3>` = :ref:`Vector4<doxid-namespace_sophus_1a2f54b15372bfd1bb0c34464ad61a77c6>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`> ;
		using :ref:`Line<doxid-class_sophus_1_1_s_o3_base_1ac33b4d01a69f84674a2af68fdceeff9e>` = :ref:`ParametrizedLine3<doxid-namespace_sophus_1a24633b90a69ca83ad90d833e11e59dd9>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`> ;
		using :ref:`Tangent<doxid-class_sophus_1_1_s_o3_base_1ab16109010b18d52c553fe0909f1a7530>` = :ref:`Vector<doxid-namespace_sophus_1abf9f6f1b37fa7bef4d2df65d63154cdf>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`, :ref:`DoF<doxid-class_sophus_1_1_s_o3_base_1aaa2d732b41346019618a306bfca9ec2b>`> ;
		using :ref:`Adjoint<doxid-class_sophus_1_1_s_o3_base_1a07e4ff988dceea1f643244552269c834>` = :ref:`Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`, :ref:`DoF<doxid-class_sophus_1_1_s_o3_base_1aaa2d732b41346019618a306bfca9ec2b>`, :ref:`DoF<doxid-class_sophus_1_1_s_o3_base_1aaa2d732b41346019618a306bfca9ec2b>`> ;
		using :ref:`ReturnScalar<doxid-class_sophus_1_1_s_o3_base_1a81d8f3c186636e7e58ebf2b1a113afac>` = typename Eigen::ScalarBinaryOpTraits<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`, typename OtherDerived::Scalar>::ReturnType ;
		using :ref:`SO3Product<doxid-class_sophus_1_1_s_o3_base_1a12e460d81305849dedabb69e3e3000ad>` = SO3<:ref:`ReturnScalar<doxid-class_sophus_1_1_s_o3_base_1a81d8f3c186636e7e58ebf2b1a113afac>`<OtherDerived>> ;
		using :ref:`PointProduct<doxid-class_sophus_1_1_s_o3_base_1ad99a2278702065717a5fac404ce5b9ed>` = :ref:`Vector3<doxid-namespace_sophus_1ade8af1bfa6ef21fdd15e6a3a89929be5>`<:ref:`ReturnScalar<doxid-class_sophus_1_1_s_o3_base_1a81d8f3c186636e7e58ebf2b1a113afac>`<PointDerived>> ;
		using :ref:`HomogeneousPointProduct<doxid-class_sophus_1_1_s_o3_base_1a3211d33349348add426804591d848ddb>` = :ref:`Vector4<doxid-namespace_sophus_1a2f54b15372bfd1bb0c34464ad61a77c6>`<:ref:`ReturnScalar<doxid-class_sophus_1_1_s_o3_base_1a81d8f3c186636e7e58ebf2b1a113afac>`<HPointDerived>> ;

		// structs
	
		struct :ref:`TangentAndTheta<doxid-struct_sophus_1_1_s_o3_base_1_1_tangent_and_theta>`;

		// fields
	
		static constexpr int :ref:`Options<doxid-class_sophus_1_1_s_o3_base_1a800885cc57e21fae906d804fb4cdcdee>` = Eigen::internal::traits<Derived>::Options;
		static int constexpr :ref:`DoF<doxid-class_sophus_1_1_s_o3_base_1aaa2d732b41346019618a306bfca9ec2b>` = 3;
		static int constexpr :ref:`num_parameters<doxid-class_sophus_1_1_s_o3_base_1ad93b60e67ab03adc145df152033f8d4c>` = 4;
		static int constexpr :ref:`N<doxid-class_sophus_1_1_s_o3_base_1a195924d84fc5381fb482de8a699116bd>` = 3;

		// methods
	
		:ref:`Adjoint<doxid-class_sophus_1_1_s_o3_base_1a07e4ff988dceea1f643244552269c834>` :ref:`Adj<doxid-class_sophus_1_1_s_o3_base_1a18e05559422bb309387feaa29a8ff685>`() const;
	
		template <class S = Scalar>
		:ref:`enable_if_t<doxid-namespace_sophus_1a4424dd9c3553f3bb3137e735d8c9d406>`<std::is_floating_point<S>::value, S> :ref:`angleX<doxid-class_sophus_1_1_s_o3_base_1ad673ba1fdffae1b1b4032f830ed9a968>`() const;
	
		template <class S = Scalar>
		:ref:`enable_if_t<doxid-namespace_sophus_1a4424dd9c3553f3bb3137e735d8c9d406>`<std::is_floating_point<S>::value, S> :ref:`angleY<doxid-class_sophus_1_1_s_o3_base_1a6fe495985701313f4beac853f05cc109>`() const;
	
		template <class S = Scalar>
		:ref:`enable_if_t<doxid-namespace_sophus_1a4424dd9c3553f3bb3137e735d8c9d406>`<std::is_floating_point<S>::value, S> :ref:`angleZ<doxid-class_sophus_1_1_s_o3_base_1af4103e40695c60f3597835a503ba75cd>`() const;
	
		template <class NewScalarType>
		SO3<NewScalarType> :ref:`cast<doxid-class_sophus_1_1_s_o3_base_1a4659acbd2637e65dcfd29f7448082146>`() const;
	
		:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`* :ref:`data<doxid-class_sophus_1_1_s_o3_base_1a947393dc983df54f9b9085bbd4d78b26>`();
		:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>` const* :ref:`data<doxid-class_sophus_1_1_s_o3_base_1ae8bf41e47a14bd5d2c86ea9a00f8093c>`() const;
		:ref:`Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o3_base_1ad93b60e67ab03adc145df152033f8d4c>`, :ref:`DoF<doxid-class_sophus_1_1_s_o3_base_1aaa2d732b41346019618a306bfca9ec2b>`> :ref:`Dx_this_mul_exp_x_at_0<doxid-class_sophus_1_1_s_o3_base_1abaf82afb4f46369375315128137b99b1>`() const;
		:ref:`Sophus::Vector<doxid-namespace_sophus_1abf9f6f1b37fa7bef4d2df65d63154cdf>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o3_base_1ad93b60e67ab03adc145df152033f8d4c>`> :ref:`params<doxid-class_sophus_1_1_s_o3_base_1ab6075927ba3ffff646648b01277dd0de>`() const;
		SO3<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`> :ref:`inverse<doxid-class_sophus_1_1_s_o3_base_1a3c260188d9061f94fe10b8642d861f58>`() const;
		:ref:`Tangent<doxid-class_sophus_1_1_s_o3_base_1ab16109010b18d52c553fe0909f1a7530>` :ref:`log<doxid-class_sophus_1_1_s_o3_base_1a567ea3b113ed3c93fa153db6031e8679>`() const;
		:ref:`TangentAndTheta<doxid-struct_sophus_1_1_s_o3_base_1_1_tangent_and_theta>` :ref:`logAndTheta<doxid-class_sophus_1_1_s_o3_base_1addfb34af2e79ebd7fd43d9b1598de473>`() const;
		void :ref:`normalize<doxid-class_sophus_1_1_s_o3_base_1a7b2e7d6dbc83b62e4700e50fb506acd7>`();
		:ref:`Transformation<doxid-class_sophus_1_1_s_o3_base_1a8d2fd775bd72adae8d49260472bb61f9>` :ref:`matrix<doxid-class_sophus_1_1_s_o3_base_1a14b461af2ed758c94f68da3981b802a7>`() const;
	
		template <class OtherDerived>
		:ref:`SO3Base<doxid-class_sophus_1_1_s_o3_base>`<Derived>& :ref:`operator=<doxid-class_sophus_1_1_s_o3_base_1a627cfe179f201fba569be241857609d8>`(:ref:`SO3Base<doxid-class_sophus_1_1_s_o3_base>`<OtherDerived> const& other);
	
		template <typename OtherDerived>
		:ref:`SO3Product<doxid-class_sophus_1_1_s_o3_base_1a12e460d81305849dedabb69e3e3000ad>`<OtherDerived> :ref:`operator*<doxid-class_sophus_1_1_s_o3_base_1ac2659790d41a57fc4d82d25a5a246425>`(:ref:`SO3Base<doxid-class_sophus_1_1_s_o3_base>`<OtherDerived> const& other) const;
	
		template <
			typename PointDerived,
			typename = typename std::enable_if<IsFixedSizeVector<PointDerived, 3>::value>::type
			>
		:ref:`PointProduct<doxid-class_sophus_1_1_s_o3_base_1ad99a2278702065717a5fac404ce5b9ed>`<PointDerived> :ref:`operator*<doxid-class_sophus_1_1_s_o3_base_1a6c6188de1572b198fcf1bb6247a74b46>`(Eigen::MatrixBase<PointDerived> const& p) const;
	
		template <
			typename HPointDerived,
			typename = typename std::enable_if<IsFixedSizeVector<HPointDerived, 4>::value>::type
			>
		:ref:`HomogeneousPointProduct<doxid-class_sophus_1_1_s_o3_base_1a3211d33349348add426804591d848ddb>`<HPointDerived> :ref:`operator*<doxid-class_sophus_1_1_s_o3_base_1a4f27a9145decf9fb2f14f1aaf8d46cc5>`(Eigen::MatrixBase<HPointDerived> const& p) const;
	
		:ref:`Line<doxid-class_sophus_1_1_s_o3_base_1ac33b4d01a69f84674a2af68fdceeff9e>` :ref:`operator*<doxid-class_sophus_1_1_s_o3_base_1a4a8687c8996ea706cae74e92db815832>`(:ref:`Line<doxid-class_sophus_1_1_s_o3_base_1ac33b4d01a69f84674a2af68fdceeff9e>` const& l) const;
	
		template <
			typename OtherDerived,
			typename = typename std::enable_if<std::is_same<Scalar, ReturnScalar<OtherDerived>>::value>::type
			>
		:ref:`SO3Base<doxid-class_sophus_1_1_s_o3_base>`<Derived>& :ref:`operator*=<doxid-class_sophus_1_1_s_o3_base_1a2014d2ddcdf751914f17ba4eb80be115>`(:ref:`SO3Base<doxid-class_sophus_1_1_s_o3_base>`<OtherDerived> const& other);
	
		void :ref:`setQuaternion<doxid-class_sophus_1_1_s_o3_base_1a25cac542342b6f4215e8eedb9c51b0ed>`(Eigen::Quaternion<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_base_1a9278bd344193c917f5cbf3c91bea3d2c>`> const& quaternion);
		:ref:`QuaternionType<doxid-class_sophus_1_1_s_o3_base_1a1e370b275fb63d7c870f2d186a501689>` const& :ref:`unit_quaternion<doxid-class_sophus_1_1_s_o3_base_1a2c27da15af9b761c85b392ee3e3fdb5e>`() const;

.. _details-class_sophus_1_1_s_o3:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

:ref:`SO3 <doxid-class_sophus_1_1_s_o3>` using default storage; derived from :ref:`SO3Base <doxid-class_sophus_1_1_s_o3_base>`.

Construction
------------

.. index:: pair: function; SO3
.. _doxid-class_sophus_1_1_s_o3_1a3333fb9fde9880b7e7f2aefa31de5c21:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO3()

Default constructor initializes unit quaternion to identity rotation.

.. index:: pair: function; SO3
.. _doxid-class_sophus_1_1_s_o3_1a68a5ff94a43ad01008a500f8fc5478eb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO3(SO3 const& other)

Copy constructor.

.. index:: pair: function; SO3
.. _doxid-class_sophus_1_1_s_o3_1aaf1f0441bc51a63d4b114495bcf208fb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class OtherDerived>
	SO3(:ref:`SO3Base<doxid-class_sophus_1_1_s_o3_base>`<OtherDerived> const& other)

Copy-like constructor from OtherDerived.

.. index:: pair: function; SO3
.. _doxid-class_sophus_1_1_s_o3_1a66e5e0c111ad025d0b98988742f32f0e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO3(:ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` const& R)

Constructor from rotation matrix.

Precondition: rotation matrix needs to be orthogonal with determinant of 1.

.. index:: pair: function; SO3
.. _doxid-class_sophus_1_1_s_o3_1a184fdc64022ce5de83327a4ec0832c46:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class D>
	SO3(Eigen::QuaternionBase<D> const& quat)

Constructor from quaternion.

Precondition: quaternion must not be close to zero.

Methods
-------

.. index:: pair: function; unit_quaternion
.. _doxid-class_sophus_1_1_s_o3_1a4225449a0fa457fb25aeae06644963b5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`QuaternionMember<doxid-class_sophus_1_1_s_o3_1a4ca600560e9a564a28e99b59c1a5f4c5>` const& unit_quaternion() const

Accessor of unit quaternion.

.. index:: pair: function; Dx_exp_x
.. _doxid-class_sophus_1_1_s_o3_1ab4e71dbf8d91adf2165c546a3a43ef9b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Sophus::Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o3_1a25a848b137685968bf27456d914d75ca>`, :ref:`DoF<doxid-class_sophus_1_1_s_o3_1ae4816f6067b77fa20f77a0cc7174549d>`> Dx_exp_x(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega)

Returns derivative of exp(x) wrt. x.

.. index:: pair: function; Dx_exp_x_at_0
.. _doxid-class_sophus_1_1_s_o3_1a036d9011424424a362d94f54cb20cc27:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Sophus::Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o3_1a25a848b137685968bf27456d914d75ca>`, :ref:`DoF<doxid-class_sophus_1_1_s_o3_1ae4816f6067b77fa20f77a0cc7174549d>`> Dx_exp_x_at_0()

Returns derivative of exp(x) wrt. x_i at x=0.

.. index:: pair: function; Dxi_exp_x_matrix_at_0
.. _doxid-class_sophus_1_1_s_o3_1aa670edd174ce72deae9b687aa57e0ccd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` Dxi_exp_x_matrix_at_0(int i)

Returns derivative of exp(x). :ref:`matrix() <doxid-class_sophus_1_1_s_o3_base_1a14b461af2ed758c94f68da3981b802a7>` wrt. ``x_i at x=0``.

.. index:: pair: function; exp
.. _doxid-class_sophus_1_1_s_o3_1aac06ae003e3c72dd0e0004f589d02c1b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`> exp(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega)

Group exponential.

This functions takes in an element of tangent space (= rotation vector ``omega``) and returns the corresponding element of the group SO(3).

To be more specific, this function computes ``expmat(hat(omega))`` with ``expmat(.)`` being the matrix exponential and ``hat(.)`` being the :ref:`hat() <doxid-class_sophus_1_1_s_o3_1a2b962b17c1c1454ab50d39671740ab87>` -operator of SO(3).

.. index:: pair: function; expAndTheta
.. _doxid-class_sophus_1_1_s_o3_1aa59bed58451b1e07371c3ca684ee7e79:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3<:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`> expAndTheta(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega, :ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>`* theta)

As above, but also returns ``theta = |omega|`` as out-parameter.

Precondition: ``theta`` must not be ``nullptr``.

.. index:: pair: function; fitToSO3
.. _doxid-class_sophus_1_1_s_o3_1a2ee0eba2620fd17a2da18224617edd05:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class S = Scalar>
	static :ref:`enable_if_t<doxid-namespace_sophus_1a4424dd9c3553f3bb3137e735d8c9d406>`<std::is_floating_point<S>::value, SO3> fitToSO3(:ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` const& R)

Returns closest :ref:`SO3 <doxid-class_sophus_1_1_s_o3>` given arbitrary 3x3 matrix.

.. index:: pair: function; generator
.. _doxid-class_sophus_1_1_s_o3_1a4f0e0e012f3f33faebe39d2393ad080f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` generator(int i)

Returns the ith infinitesimal generators of SO(3).

The infinitesimal generators of SO(3) are:

.. ref-code-block:: cpp

	      |  0  0  0 |
	G_0 = |  0  0 -1 |
	      |  0  1  0 |
	
	      |  0  0  1 |
	G_1 = |  0  0  0 |
	      | -1  0  0 |
	
	      |  0 -1  0 |
	G_2 = |  1  0  0 |
	      |  0  0  0 |

Precondition: ``i`` must be 0, 1 or 2.

.. index:: pair: function; hat
.. _doxid-class_sophus_1_1_s_o3_1a2b962b17c1c1454ab50d39671740ab87:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` hat(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega)

hat-operator

It takes in the 3-vector representation ``omega`` (= rotation vector) and returns the corresponding matrix representation of Lie algebra element.

Formally, the :ref:`hat() <doxid-class_sophus_1_1_s_o3_1a2b962b17c1c1454ab50d39671740ab87>` -operator of SO(3) is defined as

``hat(.): R^3 -> R^{3x3}, hat(omega) = sum_i omega_i * G_i`` (for i=0,1,2)

with ``G_i`` being the ith infinitesimal generator of SO(3).

The corresponding inverse is the :ref:`vee() <doxid-class_sophus_1_1_s_o3_1acfb67a1baf484491d9f369d70255fec1>` -operator, see below.

.. index:: pair: function; lieBracket
.. _doxid-class_sophus_1_1_s_o3_1af56ac23d4970d3237aa167013a2af647:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` lieBracket(:ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega1, :ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` const& omega2)

Lie bracket.

It computes the Lie bracket of SO(3). To be more specific, it computes

``[omega_1, omega_2]_so3 := vee([hat(omega_1), hat(omega_2)])``

with ``[A,B] := AB-BA`` being the matrix commutator, ``hat(.)`` the :ref:`hat() <doxid-class_sophus_1_1_s_o3_1a2b962b17c1c1454ab50d39671740ab87>` -operator and ``vee(.)`` the :ref:`vee() <doxid-class_sophus_1_1_s_o3_1acfb67a1baf484491d9f369d70255fec1>` -operator of :ref:`SO3 <doxid-class_sophus_1_1_s_o3>`.

For the Lie algebra so3, the Lie bracket is simply the cross product:

``[omega_1, omega_2]_so3 = omega_1 x omega_2.``

.. index:: pair: function; rotX
.. _doxid-class_sophus_1_1_s_o3_1a211f8838cc0c82d19bddfced1706e0f1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3 rotX(:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>` const& x)

Construct x-axis rotation.

.. index:: pair: function; rotY
.. _doxid-class_sophus_1_1_s_o3_1ad04beb4596ad7a81e731bdc3e2a2c3a0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3 rotY(:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>` const& y)

Construct y-axis rotation.

.. index:: pair: function; rotZ
.. _doxid-class_sophus_1_1_s_o3_1ad5b5d620c98af79b62f568b1a01cd67b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3 rotZ(:ref:`Scalar<doxid-class_sophus_1_1_s_o3_1a162566df35f939dfbb1a10581af5bfaf>` const& z)

Construct z-axis rotation.

.. index:: pair: function; sampleUniform
.. _doxid-class_sophus_1_1_s_o3_1a97fda443508356f8ec39713d4db7b4a7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class UniformRandomBitGenerator>
	static SO3 sampleUniform(UniformRandomBitGenerator& generator)

Draw uniform sample from SO(3) manifold. Based on: `http://planning.cs.uiuc.edu/node198.html <http://planning.cs.uiuc.edu/node198.html>`__.

.. index:: pair: function; vee
.. _doxid-class_sophus_1_1_s_o3_1acfb67a1baf484491d9f369d70255fec1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Tangent<doxid-class_sophus_1_1_s_o3_1a627bf9876132ee2ff07bf99b44d74201>` vee(:ref:`Transformation<doxid-class_sophus_1_1_s_o3_1a5281f6141e77555c28a1c997b7fb642d>` const& Omega)

vee-operator

It takes the 3x3-matrix representation ``Omega`` and maps it to the corresponding vector representation of Lie algebra.

This is the inverse of the :ref:`hat() <doxid-class_sophus_1_1_s_o3_1a2b962b17c1c1454ab50d39671740ab87>` -operator, see above.

Precondition: ``Omega`` must have the following structure:

.. code-block:: cpp

	|  0 -c  b |
	|  c  0 -a |
	| -b  a  0 |

.. index:: pair: function; unit_quaternion_nonconst
.. _doxid-class_sophus_1_1_s_o3_1a65fef58b9803e65b981a51af59f06d9d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`QuaternionMember<doxid-class_sophus_1_1_s_o3_1a4ca600560e9a564a28e99b59c1a5f4c5>`& unit_quaternion_nonconst()

Mutator of unit_quaternion is protected to ensure class invariant.

